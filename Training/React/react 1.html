<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React 1</title>

    <style>
        .box {
            border: 1px solid black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
        }

        .box--large {
            width: 270px;
            height: 270px;
        }

        .box--medium {
            width: 180px;
            height: 180px;
        }

        .box--small {
            width: 90px;
            height: 90px;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
    <script src="https://unpkg.com/prop-types@15.6.1/prop-types.js"></script>
    <script src="https://unpkg.com/react-error-boundary@1.2.5/dist/umd/react-error-boundary.js"></script>

    <script type="text/javascript">
        // add a div inside a div
        // get the div id
        // const rootElement = document.getElementById('root')
        //create element (div, a, img)
        // const element = document.createElement('div')
        // add class name for new div
        // element.className = 'container'
        // add text for new div
        // element.textContent = 'Hello World'
        // append element (child) in div that has id = root
        // rootElement.appendChild(element)

        // const bodyTag = document.getElementsByTagName('body')
        // const element2 = document.createElement('div')
        // element2.className = 'box'
        // element2.textContent = 'I am a box'
        // bodyTag[0].appendChild(element2)


        // create div using react
        // const rootElement = document.getElementById('root')
        // const element = React.createElement('div', {
        //     className: 'container',
        //     // children: ['Hello World', 'Goody'],
        //     //children: React.createElement('span', null, 'Hello', 'World'),
        // }, 'Hello World', 'Goody')
        // ReactDOM.render(element, rootElement)




    </script>


    <script type="text/babel">
        // const rootElement = document.getElementById('root')
        // const element = <div className="container">Hello World</div>
        // const another_element = <div className="container2">Another Hello World</div>
        // // ReactDOM.render(element, rootElement)
        // // Do this if want to combine 2 divs
        // const parentElement = <div>{element} {another_element}</div>


        //Custom component
        // function Message({ children }) {
        //     return <div className="message">{children}</div>
        // }

        // const element = <div className="container">
        //     <Message>Hello World</Message>
        //     <Message>Goody</Message>
        // </div>


        //PropTypes
        // const rootElement = document.getElementById('root')

        // function SayHello({ firstName, lastName }) {
        //     return (
        //         <div>
        //             Hello {firstName} {lastName}!
        //         </div>
        //     )
        // }

        // //to ensure constraint works, use dev instead of production when importing proptypes
        // SayHello.propTypes = {
        //     firstName: PropTypes.string.isRequired,
        //     lastName: PropTypes.string.isRequired,
        // }

        // const element = <SayHello firstName={false} lastName="doe" />


        //Interpolation
        //note:
        //{'the text "${text}" has '}(with single quotes) will display as it is, without interpreting ${text} as a variable.
        //{`the text "${text}" has `}(with backticks) will substitute ${text} with the actual value of the text variable.
        function CharCount({ text }) {
            return (
                <div>
                    {`the text "${text}" has `}
                    <strong>{text.length ? text.length : 'no'} </strong>
                    {'characters'}
                </div>
            )
        }

        // const element = (
        //     <>
        //         <CharCount text="Hello World" />
        //         <CharCount text="" />
        //     </>
        // )

        // React render interval
        // function Clock() {
        //     const time = new Date().toLocaleTimeString()
        //     const element = (
        //         <div className="clock">
        //             <textBox>It is {time}</textBox>
        //             <input readOnly value={time} />
        //         </div>
        //     )
        //     ReactDOM.render(element, document.getElementById('root'))
        // }
        // Clock()
        // setInterval(Clock, 1000)
        // setInterval(() => {
        //     Clock()

        // }, 1000);

        // ReactDOM.render(element, document.getElementById('root'))
        //BIG NOTE: when naming react fucntion, uppercase first letter




    </script>



    <!-- REUSABLE STYLING -->


    <script type="text/babel">
        // ...rest means any other props
        // function Box({ size, className = '', style, ...rest }) {
        //     const sizeClassName = size ? `box--${size}` : ''
        //     return (
        //         <div
        //             className={`box ${sizeClassName} ${className}`}
        //             style={{ fontStyle: 'italic', ...style }}
        //             {...rest}
        //         />
        //     )
        // }


        // const element = (
        //     <div>
        //         <Box size="small" style={{ backgroundColor: 'lightBlue' }}>
        //             Box 1
        //         </Box>
        //         <Box size="medium" style={{ backgroundColor: 'lightGreen' }}>
        //             Box 2
        //         </Box>
        //         <Box size="large" style={{ backgroundColor: 'lightPink' }}>
        //             Box 3
        //         </Box>
        //         <Box>sizeless box</Box>
        //     </div>
        // )
        // ReactDOM.render(element, document.getElementById('root'))


        // EVENT HANDLER
        // create app that shows a button and return count for every click, and an input
        // box that returns text in a textbox  



    </script>




    <!-- EVENT HANDLER  -->

    <script type="text/babel">
        // create app that shows a button and return count for every click, and an input
        // box that returns text in a textbox
        // event state that responsible for event

        // const state = { clickCount: 0, userName: '' }
        // function App() {
        //     function ClickHandler() {
        //         setState({ clickCount: state.clickCount + 1 })
        //     }

        //     function InputHandler() {
        //         setState({ userName: event.target.value })
        //     }


        //     return (
        //         <div>
        //             <p>Click count: {state.clickCount} </p>
        //             <button onClick={ClickHandler}>Click me </button>

        //             <p>Input: {state.userName}  </p>
        //             <input type="text" placeholder="text here" onChange={InputHandler} />
        //         </div>

        //     )

        //     function setState(newState) {
        //         Object.assign(state, newState)
        //         renderApp()
        //     }

        // }
        // function renderApp() {
        //     ReactDOM.render(<App />, document.getElementById('root'))
        // }

        // renderApp()

    </script>


    <!-- STATE -->
    <script type="text/babel">
        // NOTE: const [stateValue, setStateValue] = useState(initialValue);
        // handler function
        // form (label, input, condition btween name and empty)
        //render to screen

        // function Greeting() {
        //     const [name, setName] = React.useState('')
        //     const InputHandler = event => setName(event.target.value)

        //     return (
        //         <div>
        //             <form>
        //                 <label htmlFor="name"> name </label>
        //                 <input id="name" placeholder="John Doe" onChange={InputHandler} />
        //                 {name ? <strong>Your name is {name}</strong> : 'Enter your name'}

        //             </form>
        //         </div>
        //     )
        // }

        // ReactDOM.render(<Greeting />, document.getElementById('root'));

    </script>




    <!-- SIDE EFFECT -->
    <script type="text/babel">
        // function Greeting() {
        //     // idea: retrieve(get) item and save item to local storage
        //     // steps: get item from input-> set to localstorage mem and set value to input field as saved item
        //     const InputHandler = event => setName(event.target.value)
        //     const [name, setName] = React.useState(
        //         window.localStorage.getItem('name') || ''
        //     )

        //     const setItem = React.useEffect(
        //         () => window.localStorage.setItem('name', name)
        //     )

        //     return (
        //         <div>
        //             <form>
        //                 <label htmlFor="name"> name </label>
        //                 <input id="name" value={name} placeholder="John Doe" onChange={InputHandler} />
        //                 {name ? <strong>Your name is {name}</strong> : 'Enter your name'}

        //             </form>
        //         </div>
        //     )
        // }

        // ReactDOM.render(<Greeting />, document.getElementById('root'));
    </script>

    <!-- LAZY INITIALIZATION -->
    <script type="text/babel">
        // function Greeting() {
        //     // idea: retrieve(get) item and save item to local storage
        //     // steps: get item from input-> set to localstorage mem and set value to input field as saved item
        //     const InputHandler = event => setName(event.target.value)
        //     // With arrow func
        //     const [name, setName] = React.useState(() => {
        //         console.log('Initializing state with arrow function');
        //         return window.localStorage.getItem('name') || '';
        //     }
        //     );

        //     // Without arrow func
        //     // console.log('Initializing state directly');
        //     // const [name, setName] = React.useState(window.localStorage.getItem('name') || '');

        //     console.log('rendered')
        //     const setItem = React.useEffect(
        //         () => window.localStorage.setItem('name', name)
        //     )

        //     return (
        //         <div>
        //             <form>
        //                 <label htmlFor="name"> name </label>
        //                 <input id="name" value={name} placeholder="John Doe" onChange={InputHandler} />
        //                 {name ? <strong>Your name is {name}</strong> : 'Enter your name'}

        //             </form>
        //         </div>
        //     )
        // }

        // ReactDOM.render(<Greeting />, document.getElementById('root'));
    </script>


    <!-- USEEFFECT DEPENDENCY -->
    <script type="text/babel">
        // idea: retrieve(get) item and save item to local storage
        // steps: get item from input-> set to localstorage mem and set value to input field as saved item
        // NOTE: const [stateValue, setStateValue] = useState(initialValue);
        // function Greeting() {

        //     const [name, setName] = React.useState(() => {
        //         console.log('Initializing state with arrow function')
        //         return window.localStorage.getItem("name") || ''
        //     });

        //     React.useEffect(() => {
        //         console.log('Greeting useEffect')
        //         window.localStorage.setItem("name", name)
        //     }, [name]
        //         //[name] prevent useEffect from running, only runs when value of name changes
        //     )

        //     const InputHandler = event => setName(event.target.value);

        //     return (
        //         <div>
        //             <form>
        //                 <label htmlFor="name"> name </label>
        //                 <input id="name" value={name} placeholder="John Doe" onChange={InputHandler} />
        //             </form>
        //             {name ? <strong>Your name is {name}</strong> : 'Enter your name'}

        //             <Click />
        //         </div>
        //     )
        // }

        // function Click() {
        //     const [count, setCount] = React.useState(() => {
        //         return parseInt(window.localStorage.getItem("count"), 10) || 0;
        //     })


        //     React.useEffect(() => {
        //         console.log('Click useEffect')
        //         window.localStorage.setItem("count", count)
        //     }, [count]
        //         //[count] prevent useEffect from running, only runs when value of count changes
        //     )

        //     const CountIncrement = () => {
        //         setCount(count + 1)
        //     }
        //     const CountReset = () => { setCount(0) }
        //     return (

        //         <div>
        //             <button onClick={CountIncrement} >{count}</button>
        //             <button onClick={CountReset}>Reset</button>
        //         </div>

        //     )

        // }



        // ReactDOM.render(<Greeting />, document.getElementById('root'));


    </script>



    <!-- CUSTOM HOOKS -->
    <script type="text/babel">
        //      const [name, setName] = React.useState(() => {
        //         return window.localStorage.getItem('name') || ''
        //     })
        //     // useEffect dont need return
        //     React.useEffect(() => {
        //         window.localStorage.setItem('name', name)
        //     }, [name])

        // function useLocalStorageState(key, defaultValue = '') {

        //     const [state, setState] = React.useState(() => {
        //         return window.localStorage.getItem(key) || defaultValue
        //     })

        //     React.useEffect(() => {
        //         window.localStorage.setItem(key, state)
        //     }, [state, key])

        //     return [state, setState]
        // }
        // function Greeting() {
        //     // idea: retrieve(get) item and save item to local storage
        //     // steps: get item from input-> set to localstorage mem and set value to input field as saved item
        //     const InputHandler = event => setName(event.target.value)

        //     const [name, setName] = useLocalStorageState('name')
        //     return (
        //         <div>
        //             <form>
        //                 <label htmlFor="name"> name </label>
        //                 <input id="name" value={name} placeholder="John Doe" onChange={InputHandler} />
        //                 {name ? <strong>Your name is {name}</strong> : 'Enter your name'}

        //             </form>
        //         </div>
        //     )
        // }

        // ReactDOM.render(<Greeting />, document.getElementById('root'));
    </script>

    <!-- BASIC FORMS -->
    <script type="text/babel">
        // function UserNameForm() {

        //     // const usernameInputRef = React.useRef()
        //     function SubmitHandler(event) {
        //         event.preventDefault()
        //         console.log(event.target)

        //         // to show the property of the form element in dev tool
        //         console.dir(event.target)
        //         const userName = event.target.elements.usernameInput.value

        //         //The ${userName} is treated as a literal string, not as a placeholder for a variable.
        //         // so use `` to retrieve value of ${}
        //         alert(`${userName}  has been added!`)
        //     }

        //     // htmlFor = "id(actual id value)" used for accessibility
        //     // and linking with target => now label will be linked with input with the same id
        //     // include ref={usernameInputRef} in input if want to use ref
        //     return (
        //         <form onSubmit={SubmitHandler}>
        //             <div>

        //                 <label htmlFor="usernameInput">Username: </label>
        //                 <input id="usernameInput" type="text" placeholder='Joe' />
        //             </div>
        //             <button type='submit'>Submit </button>
        //         </form>
        //     )
        // }

        // ReactDOM.render(<UserNameForm />, document.getElementById("root"));
    </script>


    <!-- DYNAMIC FORM -->
    <script type="text/babel">
        // Idea: Validate input in realtime (in lower case), and disable submit button until valid
        // function UserNameForm() {
        //     const [userName, setUserName] = React.useState('')
        //     const isLowerCase = userName === userName.toLowerCase()
        //     const error = isLowerCase ? null : 'User Name must be in lower case'

        //     function SubmitHandler(event) {
        //         event.preventDefault()
        //         console.log(event.target)
        //         console.dir(event.target)
        //         //The ${userName} is treated as a literal string, not as a placeholder for a variable.
        //         // so use `` to retrieve value of ${}
        //         alert(`${userName}  has been added!`)

        //     }

        //     //changeHandler is mentioned in <input>, so the target of ChangeHandler event is
        //     //input that contain ChangeHandler
        //     function ChangeHandler(event) {
        //         setUserName(event.target.value)
        //     }
        //     // htmlFor = "id(actual id value)" used for accessibility
        //     // and linking with target => now label will be linked with input with the same id
        //     // include ref={usernameInputRef} in input if want to use ref
        //     return (
        //         <form onSubmit={SubmitHandler}>
        //             <div>

        //                 <label htmlFor="usernameInput">Username: </label>
        //                 <input id="usernameInput" type="text" placeholder='Joe' onChange={ChangeHandler} />
        //             </div>
        //             <div style={{ color: 'red' }}>{error}</div>
        //             <button disabled={!Boolean(isLowerCase)} type='submit'>Submit </button>
        //         </form>
        //     )
        // }

        // ReactDOM.render(<UserNameForm />, document.getElementById("root"));

    </script>


    <!-- CONTROLLED FORM -->
    <script type="text/babel">
        // Idea: Make it impossible for user to enter Uppercase letter
        // so no need to display error msg
        // function UserNameForm() {
        //     const [userName, setUserName] = React.useState('')
        //     const isLowerCase = userName === userName.toLowerCase()
        //     const error = isLowerCase ? null : 'User Name must be in lower case'

        //     function SubmitHandler(event) {
        //         event.preventDefault()
        //         console.log(event.target)
        //         console.dir(event.target)
        //         //The ${userName} is treated as a literal string, not as a placeholder for a variable.
        //         // so use `` to retrieve value of ${}
        //         alert(`${userName}  has been added!`)

        //     }

        //     //changeHandler is mentioned in <input>, so the target of ChangeHandler event is
        //     //input that contain ChangeHandler
        //     function ChangeHandler(event) {
        //         setUserName(event.target.value.toLowerCase())
        //     }
        //     // htmlFor = "id(actual id value)" used for accessibility
        //     // and linking with target => now label will be linked with input with the same id
        //     // include ref={usernameInputRef} in input if want to use ref


        //     //Note for placing value={userName} in input field
        //     //setUserName(event.target.value.toLowerCase()) will turn input into lowercase
        //     // for every key stroke (ChangeHandler is called every key stroke) and update
        //     // userName state
        //     //=> when add value={userName}, the input field now is controlled by userName state
        //     //  immeadiately reflect and update whatever is in the current userName state
        //     //=> input will be now converted to lower case as soon as u type them

        //     // in other words: value={userName} will display what ever in userName state,
        //     //which instantly changed and update due to ChangeHandler being called for every key stroke
        //     return (
        //         <form onSubmit={SubmitHandler}>
        //             <div>

        //                 <label htmlFor="usernameInput">Username: </label>
        //                 <input id="usernameInput" type="text" placeholder='Joe' value={userName} onChange={ChangeHandler} />
        //             </div>
        //             <div style={{ color: 'red' }}>{error}</div>
        //             <button disabled={!Boolean(isLowerCase)} type='submit'>Submit </button>
        //         </form>
        //     )
        // }

        // ReactDOM.render(<UserNameForm />, document.getElementById("root"));




    </script>


    <!-- ERROR BOUNDARIES -->

    <script type="text/babel">
        //Steps: get ErrorBoundary from api
        // ErrorFallBack to display message
        //throw error
        // app fucn => explode/set, btn, boundary fallbackcomponenet {explode? </>: push the button}
        //render

        // const ErrorBoundary = ReactErrorBoundary.ErrorBoundary

        // function ErrorFallBack({ error }) {

        //     return (
        //         <div>
        //             <p>Something went wrong</p>
        //             <p>{error.message}</p>
        //         </div>
        //     )
        // }

        // function Kaboom() {
        //     throw new Error('💥 CABOOM 💥')
        // }

        // function App() {
        //     const [explode, setExplode] = React.useState(false)

        //     return (
        //         <ErrorBoundary FallbackComponent={ErrorFallBack}>
        //             <div>
        //                 <div>
        //                     <button onClick={() => setExplode(true)}> 💣</button>
        //                 </div>

        //                 <ErrorBoundary FallbackComponent={ErrorFallBack}>
        //                     <div>
        //                         {explode ? <Kaboom /> : 'Push the bomb'}
        //                     </div>
        //                 </ErrorBoundary>
        //             </div>
        //         </ErrorBoundary>
        //     )
        // }

        // ReactDOM.render(<App />, document.getElementById('root'))
    </script>


    <!-- RENDERING LISTS -->
    <script type="text/babel">
        //Idea: get used to using key to manipulate items
        //Item list -> usestate for items -> addItem() -> removeItem()
        // return ->
        //button -> if item displayed >= all item, onlickc additem
        //list of item with maping
        //-> button on eac item to remove
        //-> label(name) for each item
        //-> input item value(item name)
        //render
        // const allItems = [
        //     { id: 'a', value: 'apple' },
        //     { id: 'o', value: 'orange' },
        //     { id: 'p', value: 'pinapple' },
        //     { id: 'g', value: 'grape' },
        // ]

        // function App() {

        //     const [items, setItems] = React.useState(allItems)
        //     // For each item i in allItems, it checks if i is not included in items.
        //     function AddItem() {
        //         setItems([...items, allItems.find(i => !items.includes(i))])
        //     }
        //     // For each item i in items, checks if i is not equal to the item that needs to be removed.
        //     function RemoveItem(item) {
        //         setItems(items.filter(i => i !== item))
        //     }
        //     // NOTE for onClick={}: if need to pass argument to fucntion for onclick
        //     // need to use arrow fucntion onClick={()=> fucniton(arg)}
        //     // if no argument needed for fucntion in onclick, then onClick={fucntion}

        //     //include key.id to specify each item id
        //     return (
        //         <div>
        //             <button disabled={items.length >= allItems.length} onClick={AddItem}>Add Item </button>

        //             <ul style={{ listStyle: 'none', paddingLeft: 0 }}>
        //                 {items.map(item => (
        //                     <li key={item.id}>
        //                         <button onClick={() => RemoveItem(item)}>Remove</button>
        //                         <label htmlFor={`${item.value}-input`}> {item.value} </label>
        //                         <input id={`${item.value}-input`} defaultValue={item.value} />

        //                     </li>
        //                 ))}
        //             </ul>

        //         </div>


        //     )

        // }
        // ReactDOM.render(<App />, document.getElementById('root'))




    </script>


    <!-- DEMO FOR KEY -->

    <script type="text/babel">
        // function FocusDemo() {
        //     const [items, setItems] = React.useState([
        //         { id: 'a', value: 'apple' },
        //         { id: 'o', value: 'orange' },
        //         { id: 'g', value: 'grape' },
        //         { id: 'p', value: 'pear' },
        //     ])

        //     React.useEffect(() => {
        //         const interval = setInterval(() => {
        //             setItems(shuffle(items))
        //         }, 1000)
        //         return () => clearInterval(interval)
        //     }, [])

        //     return (
        //         <div>
        //             <div>
        //                 <h1>Without Key</h1>
        //                 {items.map(item => (
        //                     <input value={item.value} />
        //                 ))}
        //             </div>
        //             <div>
        //                 <h1>With Key as Index</h1>
        //                 {items.map((item, index) => (
        //                     <input key={index} value={item.value} />
        //                 ))}
        //             </div>
        //             <div>
        //                 <h1>With Key</h1>
        //                 {items.map(item => (
        //                     <input key={item.id} value={item.value} />
        //                 ))}
        //             </div>
        //         </div>
        //     )
        // }

        // function shuffle(originalArray) {
        //     const array = [...originalArray]
        //     let currentIndex = array.length
        //     let temporaryValue
        //     let randomIndex
        //     // While there remain elements to shuffle...
        //     while (0 !== currentIndex) {
        //         // Pick a remaining element...
        //         randomIndex = Math.floor(Math.random() * currentIndex)
        //         currentIndex -= 1
        //         // And swap it with the current element.
        //         temporaryValue = array[currentIndex]
        //         array[currentIndex] = array[randomIndex]
        //         array[randomIndex] = temporaryValue
        //     }
        //     return array
        // }
        // ReactDOM.render(<FocusDemo />, document.getElementById('root'))

    </script>


    <!-- LIFTING AND COLOCATING -->
    <script type="text/babel">


        // function Name({ name, onNameChange }) {
        //     return (
        //         <div>
        //             <label>Name: </label>
        //             <input value={name} onChange={onNameChange} />
        //         </div>
        //     )
        // }

        // function FavoriteAnimal({ animal, onAnimalChange }) {
        //     // const [animal, setAnimal] = React.useState('')  <!--move to App()-->
        //     return (
        //         <div>
        //             <label>Favorite Animal: </label>
        //             <input
        //                 value={animal}
        //                 // onChange={event => setAnimal(event.target.value)} <!--move to App()-->
        //                 onChange={onAnimalChange}
        //             />
        //         </div>
        //     )
        // }

        // function Display({ name, animal }) {
        //     return <div>{`Hey ${name}, your favorite animal is ${animal}!`}</div>
        // }

        // function App() {
        //     const [name, setName] = React.useState('')
        //     const [animal, setAnimal] = React.useState('')
        //     return (
        //         <form>
        //             <Name
        //                 name={name}
        //                 onNameChange={event => setName(event.target.value)}
        //             />
        //             <FavoriteAnimal
        //                 animal={animal}
        //                 onAnimalChange={event => setAnimal(event.target.value)}
        //             />
        //             <Display name={name} animal={animal} />
        //         </form>
        //     )
        // }

        // ReactDOM.render(<App />, document.getElementById('root'))
    </script>



    <!-- REFACTOR WITH REACT HOOK -->
    <script type="text/babel">
        // function MyComponent() {
        //     const [count, setCount] = React.useState(0);

        //     React.useEffect(() => {
        //         console.log('Component did mount equivalent');
        //         // This will run on mount and every update. To mimic componentDidMount, can pass an empty dependency array.
        //     }, []);

        //     const incrementCount = () => {
        //         setCount(count + 1);
        //     };

        //     return (
        //         <div>
        //             <p>You clicked {count} times</p>
        //             <button onClick={incrementCount}>
        //                 Click me
        //             </button>
        //         </div>
        //     );
        // }

        // ReactDOM.render(<MyComponent />, document.getElementById('root'));
    </script>


    <!-- USEREF HOOK -->
    <script type="text/babel">
        // useful when need to compare old and new props or state 
        //values and want to avoid additional re-renders that would be caused by 
        //using useState for this purpose.
        // function MyComponent({ someProp }) {
        //     const prevProp = React.useRef(someProp); // Initializes the ref with someProp

        //     React.useEffect(() => {
        //         if (prevProp.current !== someProp) {
        //             console.log('Prop changed:', prevProp.current, 'to', someProp);
        //             prevProp.current = someProp; // Updates the ref to the new value
        //         }
        //     });

            
        // }

    </script>


    <!-- SETSTATE on MOUNTED REACT COMP -->
    <script type="text/babel">
        // function App(){
        //     const [data, setData] = React.useState(null)
        //     const isMountedRef = React.useRef(null)

        //     React.useEffect(() =>{
        //         isMountedRef.curent = true; //setting to true to indicate mounted
        //         async function fetchData(){ //fectch data asynchronously
        //             const reposnse= await fetch('https://api.example.com')
        //             const result = await response.json();
        //             //after fetching, check if component is mounted again before calling setData
        //             if(isMountedRef){
        //                 setData(result)
        //             }
        //         }

        //         fetchData();

        //         return()=>{
        //             // if unmounted, clean up func is called, prevent state updates if comp is 
        //             // no longer in DOM
        //             isMountedRef.current= false;
        //         }
        //        },[])
        // }


    </script>

    <!-- CUSTOM HOOKS -->
    <script type="text/babel">
        // concept: name start with "use", custom hooks can use other built-in hooks (useRef, useState, useEffect)
        // reusable: reuse logic across different components
        // return: custom hooks can return anything
        // function useFetch(url) {
        //         const [data, setData] = React.useState(null);
        //         const [isLoading, setIsLoading] = React.useState(false);

        //         React.useEffect(() => {
        //             setIsLoading(true);
        //             fetch(url)
        //                 .then(response => response.json())
        //                 .then(data => {
        //                     setData(data);
        //                     setIsLoading(false);
        //                 });
        //         }, [url]);

        //         return { data, isLoading };
        //     }
        // function App(){
        //     const [data, isLoading] = useFetch('https://api.example.com')
        // }
    </script>


    <!-- EXTRACT GENERIC HOOKS -->
    <script type="text/babel">
        // function useFetch(url) {
        //         const [data, setData] = React.useState(null);
        //         const [loading, setLoading] = React.useState(true);
        //         const [error, setError] = React.useState(null);

        //         React.useEffect(() => {
        //             async function fetchData() {
        //                 try {
        //                     const response = await fetch(url);
        //                     const result = await response.json();
        //                     setData(result);
        //                 } catch (err) {
        //                     setError(err);
        //                 } finally {
        //                     setLoading(false);
        //                 }
        //             }

        //             fetchData();
        //         }, [url]);

        //         return { data, loading, error };
        //     }
        //     function MyComponent() {
        //             //useFetch is used as a hook in this function
        //             const { data, loading, error } = useFetch('https://google.com');

        //             if (loading) return <div>Loading...</div>;
        //             if (error) return <div>Error: {error.message}</div>;

        //             return (
        //                 <div>
        //                     <h1>Data Fetched</h1>
        //                     <pre>{JSON.stringify(data, null, 2)}</pre>
        //                 </div>
        //             );
        //         }
                
    </script>


    <!-- USEPREVIOUS HOOK -->
    <script type="text/babel">
        //why not passing value to useRef() -> useRef(value)?
        //--> because that will set initial value of ref.current to value
        // --> ref.current will remain the same unless manually change it
        //--> so if to track previous value, useRef() must initally have no value
        //=> useRef() must be unidentify initially 
        // useEffect to update ref.current with current value, this update happen after render,
        //so ref.current will hold the value from previous render
        // function usePrevious(value) { //takes current value as arguement
        //         const ref = React.useRef(); //create ref obj, store prev value

        //         React.useEffect(() => {
        //             ref.current = value;
        //         });

        //         return ref.current;
        //     }
        // function MyComponent({ someProp }) {
        //         const previousProp = usePrevious(someProp);

        //         React.useEffect(() => {
        //             if (previousProp !== someProp) {
        //                 console.log('Prop changed from', previousProp, 'to', someProp);
        //             }
        //         }, [someProp]);

                
        //     }
   

    </script>


    <!-- USECONTEXT -->
    <script type="text/babel">

        // MyContext.js
            // import React from 'react';

            // const MyContext = React.createContext(defaultValue);

            // export default MyContext;

        import React, { useState, useContext } from 'react';
        import MyContext from './MyContext';

            function MyComponent() {
                // useState for managing state
                const [count, setCount] = useState(0);

                // useContext for consuming context
                const contextValue = useContext(MyContext);

                const incrementCount = () => {
                    setCount(count + 1);
                };

                return (
                    <div>
                        <p>Count: {count}</p>
                        <p>Context Value: {contextValue}</p>
                        <button onClick={incrementCount}>Increment</button>
                    </div>
                );
            }



    </script>


    <!-- RENDER PROP COMPONENT -->
    <script type="text/babel">
        // function useMousePosition() {
        //         const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });

        //         useEffect(() => {
        //             const handleMouseMove = (event) => {
        //                 setMousePosition({
        //                     x: event.clientX,
        //                     y: event.clientY
        //                 });
        //             };

        //             window.addEventListener('mousemove', handleMouseMove);

                    //this return is a cleanup function #cleanupfunction
                    //it clean up tasks when components unmount or b4 the effect runs again

                    //when to use:
                    //--adding event listener
                    //--subscription: when subscribe to a service
                    //--timers: when setup timer using setTimeout/ setInterval
                    //--cancelling API request

                    //when not to use:
                    //--simple state update
                    //--onetime effect: effect that runs once and dont require subs and listeners

                    //Best practices:
                    //=>Only use when effect create somthing that need to clean up
                //     return () => {
                //         window.removeEventListener('mousemove', handleMouseMove);
                //     };
                // }, []);

                //Dependency array #dependencyarray
                //--Empty array []: effect runs once after the init render
                //--with dependency: effect runs when value  in the dependecy array changes
                //--without array: effect runs after every render

                //in the exmample above, there is no value passed in the array because
                //1. the purpose of effect is to setup and cleanup event listener
                //2. the effect runs everytime mouse moves

        //         return mousePosition;
        //     }

        // function MousePositionDisplay() {
        //         const { x, y } = useMousePosition();

        //         return (
        //             <div>
        //                 <p>Mouse position: {x}, {y}</p>
        //             </div>
        //         );
        //     }
    
    </script>

    <!-- COMPONENTDIDMOUNT, COMPONENTWILLUNMOUNT -->
    <script type="text/babel">
        // class component for mounting
        // class ResizeComponent extends React.Component {
        //         componentDidMount() {
        //             window.addEventListener('resize', this.handleResize);
        //         }

        //         componentWillUnmount() {
        //             window.removeEventListener('resize', this.handleResize);
        //         }

        //         handleResize = () => {
        //             //handle resize evt
        //         };

        //         render() {
        //             return <div>Resize the window and check the console</div>;
        //         }
        //     }

       
        // refactor to functional component using hooks
        // when there is a need to perform actions or render UI element based on window size
        // this function will help doing so
        //  function ResizeComponent() {
        //         const [windowSize, setWindowSize] = useState({
        //             width: window.innerWidth,
        //             height: window.innerHeight
        //         });

        //         useEffect(() => {
        //             const handleResize = () => {
        //                 setWindowSize({
        //                     width: window.innerWidth,
        //                     height: window.innerHeight
        //                 });
        //             };

        //             window.addEventListener('resize', handleResize);

        //             return () => {
        //                 window.removeEventListener('resize', handleResize);
        //             };
        //         }, []);

        //         return <div>Window size: {windowSize.width} x {windowSize.height}</div>;
        //     }

        
    </script>

    <!-- REACT.LAZY -->

    <script type="text/babel">
        // assuming heavycomp is in the same directory
        // const HeavyComponent = React.lazy(() => import('./HeavyComponent'));

        // <Suspense> is used to wrap heavy components
        //fallback accept any react element and display that while waiting for lazy to load
        //How it works: app() is rendered --> heavycomp start loading -->fallback is shown -->
        //when heavy finished loading, it replace the fallback
        // function App() {
        //         return (
        //             <div>
        //                 <Suspense fallback={<div>Loading...</div>}> 
        //                     <HeavyComponent />
        //                 </Suspense>
        //             </div>
        //         );
        //     }
        

        //NOTE: this can be used to preload next page if user is predicted to move to next page
        //preloading too much can effect bandwidth and neg impact on current page
        
    </script>



</body>

</html>